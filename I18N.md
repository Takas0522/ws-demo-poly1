# Internationalization (i18n) Implementation

## æ¦‚è¦ / Overview

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€èªå¯ã‚·ã‚¹ãƒ†ãƒ ã«å®Ÿè£…ã•ã‚ŒãŸå›½éš›åŒ–ï¼ˆi18nï¼‰æ©Ÿèƒ½ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

This document describes the internationalization (i18n) features implemented in the authorization system.

## ğŸŒ ã‚µãƒãƒ¼ãƒˆè¨€èª / Supported Languages

| Language | Code | Status | Default |
|----------|------|--------|---------|
| æ—¥æœ¬èª | `ja` | âœ… Complete | âœ… Yes |
| English | `en` | âœ… Complete | - |

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€  / File Structure

```
src/front/src/
â”œâ”€â”€ i18n/
â”‚   â”œâ”€â”€ I18nContext.tsx       # å›½éš›åŒ–ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
â”‚   â””â”€â”€ translations.ts        # ç¿»è¨³ãƒ‡ãƒ¼ã‚¿ï¼ˆæ—¥æœ¬èªãƒ»è‹±èªï¼‰
â””â”€â”€ components/
    â””â”€â”€ LanguageSwitcher.tsx   # è¨€èªåˆ‡ã‚Šæ›¿ãˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
```

## ğŸš€ ä½¿ã„æ–¹ / Usage

### åŸºæœ¬ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— / Basic Setup

```tsx
import { I18nProvider } from './i18n/I18nContext';

// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ—¥æœ¬èªã«è¨­å®š
// Japanese as default language
<I18nProvider defaultLanguage="ja">
  <App />
</I18nProvider>
```

### è¨€èªåˆ‡ã‚Šæ›¿ãˆ / Language Switcher

```tsx
import { LanguageSwitcher } from './components/LanguageSwitcher';

// ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«è¿½åŠ 
// Add to your application
<LanguageSwitcher position="top-right" />
```

### ç¿»è¨³ã®ä½¿ç”¨ / Using Translations

```tsx
import { useI18n } from './i18n/I18nContext';

function MyComponent() {
  const { t, language, setLanguage } = useI18n();
  
  return (
    <div>
      <h1>{t.authorizationDemo}</h1>
      {/* æ—¥æœ¬èª: èªå¯ãƒ‡ãƒ¢ */}
      {/* English: Authorization Demo */}
      
      <button onClick={() => setLanguage('en')}>
        Switch to English
      </button>
    </div>
  );
}
```

## ğŸ“ ç¿»è¨³ã‚­ãƒ¼ / Translation Keys

å®Œå…¨ãªç¿»è¨³ã‚­ãƒ¼ãƒªã‚¹ãƒˆã¯ `src/i18n/translations.ts` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

See `src/i18n/translations.ts` for the complete list of translation keys.

### ä¸»è¦ãªç¿»è¨³ / Key Translations

| Key | æ—¥æœ¬èª | English |
|-----|--------|---------|
| `authorizationDemo` | èªå¯ãƒ‡ãƒ¢ | Authorization Demo |
| `currentUser` | ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ | Current User |
| `permissions` | æ¨©é™ | Permissions |
| `loading` | èª­ã¿è¾¼ã¿ä¸­... | Loading... |
| `accessGranted` | âœ“ ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ | âœ“ Access Granted |
| `accessDenied` | âœ— ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦ | âœ— Access Denied |

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º / Customization

### æ–°ã—ã„è¨€èªã®è¿½åŠ  / Adding a New Language

1. `translations.ts` ã«æ–°ã—ã„è¨€èªã‚’è¿½åŠ :

```typescript
export type Language = 'en' | 'ja' | 'fr'; // ãƒ•ãƒ©ãƒ³ã‚¹èªã‚’è¿½åŠ 

export const translations: Record<Language, Translations> = {
  en: { /* ... */ },
  ja: { /* ... */ },
  fr: {
    authorizationDemo: 'DÃ©mo d\'autorisation',
    // ... ä»–ã®ç¿»è¨³
  },
};
```

2. `LanguageSwitcher.tsx` ã«ãƒœã‚¿ãƒ³ã‚’è¿½åŠ :

```tsx
<button onClick={() => handleLanguageChange('fr')}>
  ğŸ‡«ğŸ‡· FranÃ§ais
</button>
```

### ç¿»è¨³ã®æ›´æ–° / Updating Translations

1. `src/i18n/translations.ts` ã‚’ç·¨é›†
2. `Translations` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«æ–°ã—ã„ã‚­ãƒ¼ã‚’è¿½åŠ 
3. å„è¨€èªã«ç¿»è¨³ã‚’è¿½åŠ 
4. TypeScriptãŒè‡ªå‹•çš„ã«å‹ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã„ã¾ã™

## ğŸ’¾ æ°¸ç¶šåŒ– / Persistence

é¸æŠã•ã‚ŒãŸè¨€èªã¯ `localStorage` ã«è‡ªå‹•çš„ã«ä¿å­˜ã•ã‚Œã¾ã™:

The selected language is automatically saved to `localStorage`:

```typescript
localStorage.setItem('language', 'ja'); // ã¾ãŸã¯ 'en'
```

## ğŸ¨ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçµ±åˆ / Component Integration

ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè‡ªå‹•çš„ã«ç¿»è¨³ã•ã‚Œã¾ã™:

All components are automatically translated:

- âœ… AuthorizedComponent (èª­ã¿è¾¼ã¿è¡¨ç¤º)
- âœ… PermissionDebugger (å…¨ãƒ†ã‚­ã‚¹ãƒˆ)
- âœ… App (å…¨ãƒ©ãƒ™ãƒ«ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)
- âœ… LanguageSwitcher (è¨€èªãƒœã‚¿ãƒ³)

## ğŸ“Š çµ±è¨ˆ / Statistics

- **ç¿»è¨³ã‚­ãƒ¼æ•°**: 49
- **ã‚µãƒãƒ¼ãƒˆè¨€èª**: 2ï¼ˆæ—¥æœ¬èªã€è‹±èªï¼‰
- **ãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 3
- **ã‚³ãƒ¼ãƒ‰è¡Œæ•°**: ~300è¡Œ
- **TypeScript**: 100%

## ğŸ” ãƒ‡ãƒãƒƒã‚° / Debugging

ç¾åœ¨ã®è¨€èªã‚’ç¢ºèª:

Check the current language:

```typescript
const { language } = useI18n();
console.log('Current language:', language); // 'ja' or 'en'
```

ç¿»è¨³ã®ç¢ºèª:

Check translations:

```typescript
const { t } = useI18n();
console.log('Current translations:', t);
```

## ğŸŒŸ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ / Best Practices

1. **å¸¸ã« `useI18n` ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨** / Always use the `useI18n` hook
2. **ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã‚’é¿ã‘ã‚‹** / Avoid hardcoded text
3. **æ–°ã—ã„ãƒ†ã‚­ã‚¹ãƒˆã«ã¯ç¿»è¨³ã‚­ãƒ¼ã‚’è¿½åŠ ** / Add translation keys for new text
4. **TypeScriptã®å‹ãƒã‚§ãƒƒã‚¯ã‚’æ´»ç”¨** / Leverage TypeScript's type checking
5. **æ–‡è„ˆã«å¿œã˜ãŸé©åˆ‡ãªç¿»è¨³ã‚’ä½¿ç”¨** / Use contextually appropriate translations

## ğŸ“š å‚è€ƒè³‡æ–™ / References

- [React Context API](https://react.dev/reference/react/createContext)
- [TypeScript Enums](https://www.typescriptlang.org/docs/handbook/enums.html)
- [localStorage API](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage)

## ğŸ¯ ä»Šå¾Œã®æ‹¡å¼µ / Future Enhancements

- [ ] æ—¥ä»˜ãƒ»æ™‚åˆ»ã®ãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚º
- [ ] æ•°å€¤ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚º
- [ ] è¤‡æ•°å½¢å¯¾å¿œ
- [ ] RTLï¼ˆå³ã‹ã‚‰å·¦ï¼‰è¨€èªã‚µãƒãƒ¼ãƒˆ
- [ ] å‹•çš„ãªè¨€èªèª­ã¿è¾¼ã¿
- [ ] ç¿»è¨³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ

---

**æ›´æ–°æ—¥ / Last Updated**: 2026-01-11

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³ / Version**: 1.0.0
